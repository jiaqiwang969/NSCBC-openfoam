modify files:



1. clone the sonic speed calculated function:

NSCBC_p_inletFvPatchField.H 
1.1 add Private Data
1.2 member function
1.3 declar soundSpeed()
NSCBC_p_inletFvPatchField.C
2.1 initialization Private Data
2.2 detail of function: soundSpeed()
2.3 

-: const scalarField w(Foam::max(advectionSpeed(), scalar(0)));
+: const scalarField w(advectionSpeed()-soundSpeed())

=: const scalarField alpha(w*deltaT*this->patch().deltaCoeffs());

=:this->valueFraction() = (1.0 + k)/(1.0 + alpha + k);


-:            this->refValue() =
              (
                  field.oldTime().boundaryField()[patchi] + k*fieldInf_
              )/(1.0 + k);
+:            this->refValue() =
              (
                  field.oldTime().boundaryField()[patchi] 
                + etaAc * rhop * sqr(cP) * (1.0 - sqr(aP/cP))/2.0/lInf*deltaT*[(this->patch.nf() & (Up - uInf)) + f - g] + rhop * cP * (f-f0) 
                + k*fieldInf_
              )/(1.0 + k);

	       
so on....


+ etaAc, same as gamma

